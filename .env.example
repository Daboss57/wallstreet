# Primary connection (Supabase direct 5432)
DATABASE_URL=postgresql://postgres:EtWLWJtrYqgmUyvc@db.lybaoipyomcpmavdptny.supabase.co:5432/postgres

# Fallback connection (Supabase session pooler)
DATABASE_URL=postgresql://postgres.lybaoipyomcpmavdptny:EtWLWJtrYqgmUyvc@aws-0-us-west-2.pooler.supabase.com:5432/postgres

# Backward compatibility alias during rollout (optional)
# DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/postgres

DB_CONNECT_MODE=direct
DB_FALLBACK_ENABLED=true
DB_CONNECT_TIMEOUT_MS=5000
DB_RETRY_MAX_ATTEMPTS=5
DB_RETRY_BASE_MS=250
DB_RETRY_MAX_MS=5000
DB_DIRECT_RETRY_COOLDOWN_MS=60000
DB_POOL_MAX=10

# TLS controls for Postgres connections
# Keep true when your provider uses a trusted public certificate chain.
# Set to false only if your runtime/network injects a self-signed chain.
DB_SSL_REJECT_UNAUTHORIZED=true
# DB_SSL_DISABLED=false
# DB_SSL_CA=
# DB_SSL_CA_BASE64=

PAUSE_BACKGROUND_ON_DB_DOWN=true
DB_HEALTH_CHECK_INTERVAL_MS=10000

# Railway: force IPv4-first DNS answers in Node
NODE_OPTIONS=--dns-result-order=ipv4first

JWT_SECRET=change-me
PORT=3000
