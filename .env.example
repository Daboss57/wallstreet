# Primary connection (Supabase direct 5432)
DATABASE_URL_DIRECT=postgresql://USER:PASSWORD@HOST:5432/postgres

# Fallback connection (Supabase session pooler)
DATABASE_URL_POOLER=postgresql://USER:PASSWORD@POOLER_HOST:6543/postgres

# Backward compatibility alias during rollout (optional)
# DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/postgres

DB_CONNECT_MODE=direct
DB_FALLBACK_ENABLED=true
DB_CONNECT_TIMEOUT_MS=5000
DB_RETRY_MAX_ATTEMPTS=5
DB_RETRY_BASE_MS=250
DB_RETRY_MAX_MS=5000
DB_DIRECT_RETRY_COOLDOWN_MS=60000
DB_POOL_MAX=10

PAUSE_BACKGROUND_ON_DB_DOWN=true
DB_HEALTH_CHECK_INTERVAL_MS=10000

# Railway: force IPv4-first DNS answers in Node
NODE_OPTIONS=--dns-result-order=ipv4first

JWT_SECRET=change-me
PORT=3000
